# h3: Should Tero wear a helmet?

## Summaries:

### Braiterman et al 2020: Threat modeling manifesto

*	The function of threat modeling is to recognize vulnerabilities within a given system.
*	Thread models benefit from the 4-question model.
*	Threat modeling should be used as it reduces risk. It allows us to identify vulnerabilities and opens discussion on how to remove or minimize the risk presented by vulnerabilities.
*	Threat modeling allows us to prepare for mitigation in future designs.
*	The manifesto is a guide and should be used in ways that best fit the userâ€™s needs.
*	The manifesto follows two guidelines: values, and principles.
*	Values:
    *	The manifesto values discovering and mitigating problems, rather than looking at a checklist and moving down the checklist accordingly.
    *	A human element that involves cooperation.
    *	Action over inaction.
    *	Repetition.
*	Principles:
    *	Early threat modeling is the best case scenario.
    *	Threat modeling aligns with the needs and capabilities of the organisation.
    *	Understandable to stakeholders.
    *	Communication and documentation.
*	The manifesto introduces us to patterns that are either beneficial or detrimental to threat modeling:
    *	Beneficial:
          * A systematic approach in which knowledge and structure enhance threat modeling.
          * Informed creativity.
          * Collaboration in which many views and ideas can be shared to enhance the threat model.
          * Using proper tools.
          * Applying known theory into practice in order to benefit from previous iterations.
    *	Detrimental:
          * Lone-wolf mentality.
          * Focusing on the problem rather than the solution.
          * Focusing on small modules rather than the entirety of the system.
          * Focusing efforts on a singular model rather than variations.

### Shostack 2022: Welcome to the Worlds Shortest Threat Modeling Course

* Goal of videos are to introduce threat modeling
* Why threat model?
    *	To anticipate problems when is cost effective to deal with problems.
    *	Allow us to think about security early on so we can design a sytem to be as secure as it needs to be.
* Four-question framework:
    *	What are we working on? (Diagram)
    *	What can go wrong? (Identify threats)
    *	What are we gonna do about it? (Mitigation)
    *	Did we do a good job? (Validation)
* Sketching in threat modeling:
    *	The initial phase of 'what are we working on' and how we can engage other people with that question.
    *	Allows us to visualize 'what can go wrong'.
    *	Non-permanent.
* Record your threat modeling:
    *	More concrete than sketching.
    *	Allows us to look back and learn new things.
    *	Recordkeeping is great! So many benefits that it would be foolhardy to list them all.
* Data flow diagrams in threat modeling:
    *	Heavy association to threat modeling.
    *	Simple to draw, easy to use.
    *	Include (DFD3 model):
          * Pointy corners: Things we are unable to have control over.
          * Round corners: Things that are under control.
          * Arrows: Data flows, how things are connected.
          * Drums: Storage devices.
          * Dotted boundries: Trust boundries, environments in which things are operated. Different trusts.
    *	Extremely crude example of data flow diagram:
  
         ![alt text](https://user-images.githubusercontent.com/142781925/266778360-21626066-75b3-41fb-93d7-823f3af3aa56.png)

   * Notation isn't that important as long as everyone understands what we are working on.
* What can go wrong?
    *	Heart of threat modeling.
    *	STRIDE/Kill chain/other models can help us find the answer.
* STRIDE:
    *	[S]poofing
    *	[T]ampering
    *	[R]epudiation
    *	[I]nformation Disclosure
    *	[D]enial of Service
    *	[E]levation of Priviledges
    *	These issues can happen in a myriad of different systems. Very homogenous.
    *	Possible issues that could be run into. i.e. What could go wrong? Can these happen?
* What are we going to do about it?
    *	Risk management: Accept or transfer risk?
    *	Do not ignore risks.
    *	Some things must be fixed. Some things simply can not be fixed.
* Did we do a good job?
    *	Would you recommend threat modeling to a colleague?
    *	Was the effort of threat modeling worth it?
    *	If the answer to both of these is no, then we can assume we did not do a good job.
 
### Shostack 2014: Chapter 1 - Dive In and Threat Model!

* What are you building?
    *	Diagrams are effective in presenting what is to planned to be built.
    *	Already in the diagram we can begin to think what can go wrong:
          * Is the web browser being used by those that have permission?
          * Repercussions if someone modifies data in database?
          * Can we ignore encryption?
          * Trust boundaries for things such as accounts, clients, VMs, organisations.
    *	The larger and more complex the diagram, the easier it is to miss entry points and vulnerabilities.
    *	One should ponder if the diagram is appropriate for the system being built.
    *	Attack surface: Larger entry points are easier to attack.
    *	Trust boundaries limit attack vectors.
    *	Both aforementioned are interchangeable.
* What can go wrong?
    *	Elevation of priviledge: Game to help in threat modeling.
    *	STRIDE to identify possible threats.
          * [S]poofing: Using someone else's identity.
          * [T]ampering: Modifying data that the user doesn't/shouldn't have priviledges to modify.
          * [R]epudiation: Claiming to have not something.
          * [I]nformation Disclosure: Breaking OPSEC.
          * [D]enial of Service: An attack that prevents the system from operating in normal capacity.
          * [E]levation of Priviledges: User being able to do something that they should not be able to do. i.e having admin priviledges.
* Identifying threats:
    *	Begin with outside actors. Move down the list of STRIDE.
    *	Do not ignore threats while focusing on other vectors. Document.
    *	Focus on feasible threats, not the impossible.
* Addressing threats:
    *	Once threats are documented, begin to identify counters:
          * Mitigation: Actions to make it harder to perform threat.
          * Elimination: Eliminating certain features so the threat cannot be performed.
          * Transfer: Moving the handling of the threat to another party.
          * Accept: Accept the possibility of the risk, and it's repercussions.
    *	Spoofing:
          * Using unique usernames.
          * Having a form of authentication.
          * Being careful with executable files.
          * Using proper file pathways.
    *	Tampering:
          * Files, memory, network data can all be tampered with.
    *	Repudiation:
          * Ensure that system logs are maintained, and safely stored.
    *	Information Disclosure:
          * Monitor the network to ensure no user is leaking data.
          * Monitor the network to ensure nobody is spoofing a trusted user and gaining access to data.
          * Use innocuous names for directories and files.
          * Access-control lists and cryptography.
    *	DOS:
          * Firewalls
    *	Elevation of Priviledge:
          * Wary of injections.
          * Control flow and memory corruption attacks use C-like languages to take advantage of weak typing. Type-safe languages such as Java or C# mitigate risk of these attacks.
* Checking the work:
    *	Validation is the last step of threat modeling.
    *	The model should answer the questions of is it complete/accurate/cover everything/allow for movement to next phase without making changes to the diagram.
    *	The diagram should be updated if the answer to any of the aforementioned is 'no'.
    *	Check if the solution to each threat is correct.

### OWASP CheatSheets Series Team 2021

## Security Hygiene:

* Unique passwords that are unrelated to the user.
* Avoid connections to unknown sources.
* VPN on unknown networks.
* Usage of antivirus and firewalls.
* Updating apps and OS in a timely manner.
* Don't run untrusted code.
* Encrypting the drive.

## Make-belief boogie-man: a threat model for an imaginary company.

Introducing Ebfs Oy Ab: an up-and-coming software company that specialises in [REDACTED]. In this natal stage of their company, the higher echelons of the corporation and the engineers are considering threat modeling for their business as well as their product. So, let's have a look at what they are going to consider while they are getting things up and running:

### Answer to the question: should tero wear a helmet?

If it makes him feel safer, sure. But if you're not on your bicycle, perhaps take a step back and ponder whether or not it is necessary at the time to wear a helmet.

### Sources

Braiterman et al. (2020) Threat modeling manifesto. Available at: https://www.threatmodelingmanifesto.org/ [Accessed 08.09.2023]

Shostack (2021-2022) Worlds Shortest Threat Modeling Course. Available at: https://www.youtube.com/playlist?list=PLCVhBqLDKoOOZqKt74QI4pbDUnXSQo0nf [Accessed 08.09.2023]

Shostack (2014) Threat Modeling: Designing for Security. Available at: https://www.oreilly.com/library/view/threat-modeling-designing/9781118810057/9781118810057c01.xhtml#c1 [Accessed 08.09.2023]

OWASP (2021) Threat Modeling Cheat Sheet. Available at: https://www.oreilly.com/library/view/threat-modeling-designing/9781118810057/9781118810057c01.xhtml#c1 [Accessed 09.09.2023]

